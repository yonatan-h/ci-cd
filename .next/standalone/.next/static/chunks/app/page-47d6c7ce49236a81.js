(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{117:function(e,t,r){Promise.resolve().then(r.bind(r,7698))},7698:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7437);r(5355);var l=r(1162),n=(0,l.$)("c304a64b02de2a59d3f8c44b75d2ccf95863d067"),a=(0,l.$)("3bb96d018e0ee944f60fc6cc094becc12d4d07f8");(0,l.$)("a2117ee3aff32bc146309b91642adf65129c289c");var c=r(2265),o=r(9150),i=r(7267);function d(e){let{searchResult:t,onClickResultHandler:r}=e,l=e=>{let{children:t,item:l}=e;return(0,s.jsx)(c.Fragment,{children:c.Children.map(t,e=>c.cloneElement(e,{onClick:()=>r(l)}))})};return(0,s.jsx)("div",{className:"relative ".concat(t.length>0?"block":"hidden"),children:(0,s.jsx)("div",{className:"bg-gray-300 rounded-md my-2 p-2 bg-opacity-95 absolute left-0 top-0 w-full",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-y-2",children:[(0,s.jsx)("div",{className:"text-xs font-bold",children:"City"}),(0,s.jsx)("div",{className:"ml-auto mr-2 text-xs font-bold",children:"Latitude"}),(0,s.jsx)("div",{className:"ml-auto text-xs font-bold",children:"Longitude"}),t.map((e,t)=>(0,s.jsxs)(l,{item:e,children:[(0,s.jsx)("div",{className:"text-xs text-foregroundColor hover:cursor-pointer",children:e.name}),(0,s.jsx)("div",{className:"ml-auto mr-2 text-xs text-foregroundColor hover:cursor-pointer",children:Math.round(100*e.latitude)/100}),(0,s.jsx)("div",{className:"mx-auto text-xs text-foregroundColor hover:cursor-pointer",children:Math.round(100*e.longitude)/100})]},e.id))]})})})}function u(e){let{latitude:t=10,longitude:r=10,onClickResultHandler:l}=e,[a,u]=(0,c.useState)(""),[x,m]=(0,c.useState)([]),[f,h]=(0,c.useState)({}),[p,j]=(0,c.useState)(!1),v=(0,c.useRef)(0),g=async()=>{v.current++;let e=v.current;m([]),h({});try{j(!0);let t=await n(a);e===v.current&&m(t)}catch(t){e===v.current&&alert("There was an error getting cities. Please try again.")}finally{e===v.current&&j(!1)}};return(0,c.useEffect)(()=>{h({}),a.length>=3&&g()},[a]),(0,s.jsxs)("div",{className:"flex flex-col justify-center mb-10 mt-6 gap-2 mx-10 md:flex-row",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("label",{className:"text-xs text-foregroundColor font-bold mb-1 flex gap-3",children:[p&&(0,s.jsx)(o.Z7b,{className:"animate-spin"}),"Search City"]}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{className:"rounded-md outline-none p-2 text-sm placeholder:text-xs",placeholder:"Input City - Min 3 Characters",value:a,onChange:e=>u(e.target.value)}),a.length>=3&&(0,s.jsx)("button",{className:"absolute right-2",onClick:()=>{g()},children:(0,s.jsx)(i.w75,{})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d,{searchResult:x,onClickResultHandler:e=>{m([]),h(e),l(e)}}),0===x.length&&!p&&a.length>=3&&!(null==f?void 0:f.id)&&(0,s.jsx)("p",{children:"No search results"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-xs text-foregroundColor font-bold mb-1",children:"Latitude"}),(0,s.jsx)("input",{className:"rounded-md outline-none p-2 text-sm",defaultValue:"".concat(Object.keys(f).length>0?f.latitude:t),disabled:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-xs text-foregroundColor font-bold mb-1",children:"Longitude"}),(0,s.jsx)("input",{className:"rounded-md outline-none p-2 text-sm",defaultValue:"".concat(Object.keys(f).length>0?f.longitude:r),disabled:!0})]})]})}var x=r(3159);let m=new Intl.DateTimeFormat(void 0,{weekday:"long"}),f=new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",hour12:!0});function h(e){let t="";return e&&(t=m.format(e)),t}function p(e){let t;switch(e){case 0:case 1:default:t=x.Mei;break;case 2:t=x.mMb;break;case 3:case 96:case 99:t=x.H_w;break;case 45:case 48:t=x.NAP;break;case 51:case 53:case 55:t=x.tOz;break;case 56:case 57:t=x.QU_;break;case 61:case 63:case 65:t=x.Uzb;break;case 66:case 67:case 80:case 81:case 82:t=x.mrM;break;case 71:case 73:case 75:case 85:case 86:t=x.l51;break;case 77:t=x.kuO;break;case 95:t=x.LkT}return t}function j(e){let{iconCode:t=999,timestamp:r=999,degree:l=32,...n}=e,a=p(t),c=h(r);return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center border border-foregroundColor rounded-md p-0.5 ".concat(n.className),children:[(0,s.jsx)("div",{children:(0,s.jsx)(a,{className:"w-16 h-16"})}),(0,s.jsx)("div",{className:"text-base text-foregroundSecondaryColor mt-0.5",children:c}),(0,s.jsxs)("div",{children:[l,"\xb0"]})]})}function v(e){let{currentTemp:t=31,highTemp:r=32,lowTemp:l=9,highFeelsLike:n=30,lowFeelsLike:a=20,windSpeed:c=9,precip:o=.1,iconCode:i=999}=e,d=p(i);return(0,s.jsxs)("header",{className:"flex items-center my-4 mx-10",children:[(0,s.jsxs)("div",{className:"flex w-1/2 justify-center items-center m-0.5 p-0.5 border-r-2 border-foregroundColor",children:[d&&(0,s.jsx)(d,{className:"w-20 h-20 object-contain"}),(0,s.jsxs)("div",{className:"text-3xl ml-4",children:[(0,s.jsx)("span",{"data-current-temp":!0,children:t}),"\xb0"]})]}),(0,s.jsxs)("div",{className:"grid w-1/2 gap-4 justify-around grid-cols-3 grid-rows-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"High"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{"data-current-high":!0,children:r}),"\xb0"]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"FL High"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{"data-current-fl-high":!0,children:n}),"\xb0"]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center ",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"Wind"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{"data-current-wind":!0,children:c}),(0,s.jsx)("span",{className:"font-normal text-sm",children:"mph"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"Low"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{"data-current-low":!0,children:l}),"\xb0"]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"FL Low"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{"data-current-fl-low":!0,children:a}),"\xb0"]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"Precip"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{"data-current-precip":!0,children:o}),(0,s.jsx)("span",{className:"font-normal text-sm",children:"in"})]})]})]})]})}function g(e){let t,{timestamp:r=999,iconCode:l=999,maxTemp:n=31,feelsLike:a=30,windSpeed:c=19,precip:o=.1}=e,i=p(l),d=h(r),u=(t="",r&&(t=f.format(r)),t);return(0,s.jsxs)("tr",{className:"[&>td]:p-2 [&>td>*]:gap-1 even:bg-sky-300/60 odd:bg-sky-300/30 ",children:[(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex flex-col items-center ",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:d}),(0,s.jsx)("div",{className:"uppercase",children:u})]})}),(0,s.jsx)("td",{children:(0,s.jsx)(i,{className:"w-12 h-12 object-contain"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"TEMP"}),(0,s.jsxs)("div",{children:[n,"\xb0"]})]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"FL TEMP"}),(0,s.jsxs)("div",{children:[a,"\xb0"]})]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"WIND"}),(0,s.jsxs)("div",{children:[c,(0,s.jsx)("span",{className:"font-normal text-sm",children:"mph"})]})]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"uppercase font-bold text-xs text-foregroundSecondaryColor",children:"PRECIP"}),(0,s.jsxs)("div",{children:[o,(0,s.jsx)("span",{className:"font-normal text-sm",children:"in"})]})]})})]})}function b(){let[e,t]=(0,c.useState)(),[r,l]=(0,c.useState)([]),[n,i]=(0,c.useState)([]),[d,m]=(0,c.useState)({}),[f,h]=(0,c.useState)(!1),[p,b]=(0,c.useState)(0),[N,y]=(0,c.useState)([]),[w,C]=(0,c.useState)({latitude:10,longitude:10});(0,c.useEffect)(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{let{coords:t}=e,{latitude:r,longitude:s}=t;C({latitude:r,longitude:s})},e=>{alert("There was an error getting your location. Please allow to use your location and refresh the page.")})},[]);let k=(0,c.useCallback)(e=>{y(e.slice(0,10+p))},[p]);return(0,c.useEffect)(()=>{(async()=>{let e=Object.keys(d).length>0?d.latitude:w.latitude,r=Object.keys(d).length>0?d.longitude:w.longitude;h(!0);try{let s=await a(e,r,Intl.DateTimeFormat().resolvedOptions().timeZone);s.current&&t(s.current),s.daily&&l(s.daily),s.hourly&&(k(s.hourly),i(s.hourly))}catch(e){alert("There was an error fetching the weather data. Please try again later.")}finally{h(!1)}})()},[w,k,d]),(0,s.jsxs)("main",{className:"".concat(null==e?"blur-md":""," "),children:[Object.keys(d).length>0&&(0,s.jsxs)("div",{className:"flex justify-center items-center mt-6",children:[f&&(0,s.jsx)(o.Z7b,{className:"animate-spin"}),(0,s.jsx)(x.Nh4,{className:"w-6 h-6 object-contain"}),(0,s.jsx)("div",{className:"text-center pl-2 text-foregroundColor text-2xl font-medium flex gap-3",children:d.name})]}),(0,s.jsx)(u,{latitude:w.latitude,longitude:w.longitude,onClickResultHandler:function(e){m(e)}}),(0,s.jsx)(v,{currentTemp:null==e?void 0:e.currentTemp,highTemp:null==e?void 0:e.highTemp,lowTemp:null==e?void 0:e.lowTemp,highFeelsLike:null==e?void 0:e.highFeelsLike,lowFeelsLike:null==e?void 0:e.lowFeelsLike,windSpeed:null==e?void 0:e.windSpeed,precip:null==e?void 0:e.precip,iconCode:null==e?void 0:e.iconCode}),(0,s.jsx)("section",{className:"grid grid-cols-[repeat(auto-fit,100px)] gap-2 justify-center p-4",children:r.map((e,t)=>(0,s.jsx)(j,{iconCode:e.iconCode,timestamp:e.timestamp,degree:e.maxTemp},t))}),(0,s.jsx)("table",{className:"w-full text-center border-spacing-0",children:(0,s.jsx)("tbody",{children:N.map((e,t)=>(0,s.jsx)(g,{maxTemp:e.maxTemp,feelsLike:e.feelsLike,precip:e.precip,timestamp:e.timestamp,windSpeed:e.windSpeed,iconCode:e.iconCode},t))})})]})}},1162:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return l}});let s=r(5355);function l(e){let{createServerReference:t}=r(6671);return t(e,s.callServer)}},622:function(e,t,r){"use strict";var s=r(2265),l=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var s,o={},i=null,d=null;for(s in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,s)&&!c.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:l,type:e,key:i,ref:d,props:o,_owner:a.current}}t.jsx=o,t.jsxs=o},7437:function(e,t,r){"use strict";e.exports=r(622)},1172:function(e,t,r){"use strict";r.d(t,{w_:function(){return o}});var s=r(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=s.createContext&&s.createContext(l),a=function(){return(a=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},c=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)0>t.indexOf(s[l])&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(r[s[l]]=e[s[l]]);return r};function o(e){return function(t){return s.createElement(i,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return s.createElement(t.tag,a({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,l=e.attr,n=e.size,o=e.title,i=c(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,i,{className:r,style:a(a({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&s.createElement("title",null,o),e.children)};return void 0!==n?s.createElement(n.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[420,104,712,971,938,744],function(){return e(e.s=117)}),_N_E=e.O()}]);